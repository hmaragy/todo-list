(this["webpackJsonpclean-architecture-todo-list"]=this["webpackJsonpclean-architecture-todo-list"]||[]).push([[0],{27:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(6),o=c.n(r),s=c(3),i=c(9),l=c(13),d=c.n(l),u=c(2),b={status:"all"},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filters/statusChanged":return Object(u.a)(Object(u.a)({},e),{},{status:t.payload});default:return e}},m=c(15),h=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todos/added":return[{id:Date.now(),text:t.payload,completed:!1}].concat(Object(m.a)(e));case"todos/completed":return e.map((function(e){return e.id!==t.payload.id?e:Object(u.a)(Object(u.a)({},e),{},{completed:t.payload.completed})}));case"todos/deleted":return e.filter((function(e){return e.id!==t.payload}));default:return e}},p=Object(i.a)({todos:f,filters:j}),O=(c(27),c(7)),x=c(5),g=c(14),v=c(1),y=function(e){return Object(v.jsxs)("button",{onClick:e.onClick,className:"".concat(e.className||""," \n        text-accent-dark border-2 border-accent-dark py-0.5 px-2 hover:bg-accent-dark hover:text-secondary transition-all transform-gpu flex justify-items-center items-center"),children:[e.icon&&Object(v.jsx)(e.icon,{className:"mr-2"}),e.children]})},k=function(e){var t=Object(n.useState)(""),c=Object(x.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)(!1),s=Object(x.a)(o,2),i=s[0],l=s[1];function d(){e.onClick(a),r("")}return Object(n.useEffect)((function(){function e(e){13===e.keyCode&&i&&d()}return document.addEventListener("keypress",e),function(){document.removeEventListener("keypress",e)}}),[a,i]),Object(v.jsxs)("div",{className:"".concat(e.className||""," transition-all delay-100 relative border-b-8 border-secondary"),children:[Object(v.jsx)("input",{value:a,onChange:function(e){r(e.target.value)},onFocusCapture:function(e){e.currentTarget===e.target&&(i||l(!0))},onBlurCapture:function(e){e.currentTarget===e.target&&i&&l(!1)},type:"text",className:"w-full h-full p-6 pr-20 outline-none",placeholder:"Add a todo"}),Object(v.jsx)(y,{onClick:d,icon:g.a,className:"absolute top-1/2 transform-gpu -translate-y-1/2 right-1 border-none active:bg-accent",children:"Add"})]})},N=function(e){return Object(v.jsx)("div",{className:"".concat(e.className||""," transition-shadow delay-200 shadow-md hover:shadow-sm"),children:e.children})},C=function(e){return Object(v.jsxs)("div",{id:"todo",className:"flex items-center border-b-2 px-4 border-secondary cursor-pointer hover:bg-accent hover:text-white",children:[Object(v.jsx)("input",{onChange:function(t){e.onChange(e.id,t.target.checked)},id:"check"+e.id,type:"checkbox",className:"mr-2 cursor-pointer"}),Object(v.jsx)("label",{htmlFor:"check"+e.id,className:"w-full h-full cursor-pointer p-4",children:e.children})]})},w=function(e){return e.todos},S=function(e){return e.filters};var E=function(){var e=Object(s.c)(w),t=Object(s.c)(S),c=Object(n.useState)({}),a=Object(x.a)(c,2),r=a[0],o=a[1],i=Object(s.b)();function l(e,t){o((function(c){return Object(u.a)(Object(u.a)({},c),{},Object(O.a)({},e,t))}))}function d(e){i({type:"filters/statusChanged",payload:e})}function b(e){Object.keys(r).forEach((function(t){r[t]&&i({type:"todos/completed",payload:{id:+t,completed:e}})}))}var j=null===e||void 0===e?void 0:e.map((function(e){return Object(v.jsx)(C,{onChange:l,id:e.id,completed:e.completed,children:e.text},e.id)})).filter((function(e){return"all"===t.status||(!("completed"!==t.status||!e.props.completed)||"active"===t.status&&!e.props.completed)}));return Object(v.jsxs)("div",{className:"bg-secondary h-screen flex flex-col justify-center items-center",children:[Object(v.jsx)("h1",{className:"text-accent-dark font-mono text-6xl mb-4",children:"Todos"}),Object(v.jsxs)(N,{className:"bg-white w-11/12 lg:w-1/2 md:w-2/3",children:[Object(v.jsx)(k,{onClick:function(e){i({type:"todos/added",payload:e})}}),Object(v.jsx)("div",{id:"todo-list",className:"h-80 grid grid-flow-row items-center content-start overflow-y-auto",children:j}),Object(v.jsxs)("div",{id:"tools",className:"grid grid-cols-1 sm:grid-cols-2 justify-items-start p-4",children:[Object(v.jsxs)("div",{id:"actions",className:"mb-4 sm:mb-0",children:[Object(v.jsx)("h2",{className:"mb-2",children:"Actions"}),Object(v.jsx)(y,{onClick:function(){return b(!0)},className:"mb-2",children:"Mark completed"}),Object(v.jsx)(y,{onClick:function(){return b(!1)},className:"mb-2",children:"Clear completed"}),Object(v.jsx)(y,{onClick:function(){Object.keys(r).forEach((function(e){r[e]&&i({type:"todos/deleted",payload:+e})}))},className:"mb-2",children:"Delete"})]}),Object(v.jsxs)("div",{className:"filter",children:[Object(v.jsx)("h2",{className:"mb-2",children:"Filter by status"}),Object(v.jsx)(y,{onClick:function(){return d("all")},className:"mb-2".concat(" ","all"===t.status?"bg-accent-dark text-white":""),children:"All"}),Object(v.jsx)(y,{onClick:function(){return d("active")},className:"mb-2".concat(" ","active"===t.status?"bg-accent-dark text-white":""),children:"Active"}),Object(v.jsx)(y,{onClick:function(){return d("completed")},className:"mb-2".concat(" ","completed"===t.status?"bg-accent-dark text-white":""),children:"Complete"})]})]})]})]})},A=Object(i.b)(p,function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());A.subscribe(d()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){console.log(c)}}(A.getState())})),200),o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(s.a,{store:A,children:Object(v.jsx)(E,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.bb64331d.chunk.js.map